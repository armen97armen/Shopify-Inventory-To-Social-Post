name: Scheduled Tweet Posting

on:
  schedule:
    # Run every minute
    - cron: '* * * * *'
  workflow_dispatch: # Allow manual triggering

jobs:
  post-scheduled-tweets:
    runs-on: ubuntu-latest
    
    steps:
      - name: Call Scheduler Endpoint
        run: |
          curl -X GET "${{ secrets.SCHEDULER_URL }}/run_scheduler.php" \
            -H "User-Agent: GitHub-Actions-Scheduler" \
            --max-time 30 \
            --fail-with-body || echo "Scheduler check completed"
